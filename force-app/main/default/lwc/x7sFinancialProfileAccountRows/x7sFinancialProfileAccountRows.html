<template>
    
    <lightning-layout multiple-rows class="slds-gutters">
        <lightning-layout-item size="12" class="slds-col slds-m-bottom_large">
            <h1 class="x7s-text-heading_large">{header}</h1>
            <!-- <p class="slds-m-top_small"></p> -->
        </lightning-layout-item>
    </lightning-layout>

    <template iterator:it={financialAccountsOfType}>
        <lightning-layout key={it.value.Id} vertical-align="end" multiple-rows class="slds-gutters">

            <lightning-layout-item if:false={it.first} size="12" class="slds-col slds-border_bottom slds-m-bottom_medium">
                <!-- no content -->
            </lightning-layout-item>

            <lightning-layout-item size="12" medium-device-size="2" class="slds-col slds-m-bottom_large">
                <lightning-combobox label="Account Type" options={optionsAccountType} value={it.value.Account_Type__c} 
                    data-row-id={it.value.Id} data-row-index={it.index} 
                    autocomplete="off"
                    onchange={handleChangeType}>
                </lightning-combobox>
            </lightning-layout-item>
    
            <lightning-layout-item size="12" medium-device-size="3" class="slds-col slds-m-bottom_large">
                <!-- <lightning-input label="Financial Institution" value={it.value.Financial_Institution__c} 
                    data-row-id={it.value.Id} data-row-index={it.index} 
                    autocomplete="off"
                    onchange={handleChangeName}>
                </lightning-input> -->
                <lightning-combobox label="Financial Institution" 
                        options={optionsFinancialInstitutions} value={it.value.Financial_Institution__c} 
                        data-row-id={it.value.Id} data-row-index={it.index} 
                        autocomplete="off"
                        onchange={handleChangeName}></lightning-combobox>
            </lightning-layout-item>

            <lightning-layout-item size="12" medium-device-size="2" class="slds-col slds-m-bottom_large">
                <lightning-combobox label="Owner" options={optionsOwner} value={it.value.Owner__c} 
                    data-row-id={it.value.Id} data-row-index={it.index} 
                    autocomplete="off"
                    onchange={handleChangeOwner}>
                </lightning-combobox>
            </lightning-layout-item>
            
            <lightning-layout-item size="12" medium-device-size="2" class="slds-col slds-m-bottom_large">
                <lightning-input label="Current Value" 
                    type="number" formatter="currency" step="1"
                    placeholder="Round to the nearest dollar" value={it.value.Current_Value__c} 
                    data-row-id={it.value.Id} data-row-index={it.index} 
                    autocomplete="off"
                    onchange={handleChangeAmount}>
                </lightning-input>
            </lightning-layout-item>

            <lightning-layout-item size="12" medium-device-size="3" class="slds-col slds-m-bottom_large slds-m-top_x-large">
                <lightning-button variant="base" icon-name="utility:close" 
                    label="Remove this row" 
                    data-row-id={it.value.Id} data-row-index={it.index} 
                    onclick={handleClickRemoveRow}>
                </lightning-button>
            </lightning-layout-item>
    
            <lightning-layout-item if:true={it.last} size="12" class="slds-col slds-m-bottom_large">
                <lightning-button variant="base" icon-name="utility:new" 
                    label="Add Another"
                    onclick={handleClickAddAnotherRow}></lightning-button>
            </lightning-layout-item>
   
        </lightning-layout>
    </template>
</template>